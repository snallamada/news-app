{"ast":null,"code":"import'../App.css';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[user,setUser]=useState([]);const[users,setUsers]=useState({id:\"\",pnumber:\"\",password:\"\"});const[errorMsg,setErrorMsg]=useState(\"\");useEffect(()=>{axios.get(\"http://localhost:4000/users\").then(response=>{setUser(response.data);}).catch(error=>{console.log(error);});},[]);function login(event){event.preventDefault();var pnumber=users.pnumber;//console.log(id);\nvar password=users.password;//console.log(password);\nlet emp=user.find(function(el){return String(el.pnumber)===pnumber&&String(el.password)===password;});console.log(\"True or False\",emp!=null);console.log(\"Emp\",emp);if(emp!=null){sessionStorage.setItem(\"cAuthenticated\",true);window.location.href=\"/\";}else{setErrorMsg(\"Invalid Credentials\");}//console.log(emp);\n}const handleChange=event=>{setUsers({...users,[event.target.name]:event.target.value});};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:login,children:[/*#__PURE__*/_jsx(\"input\",{name:\"pnumber\",type:\"text\",value:users.pnumber,onChange:handleChange,placeholder:\"Enter the Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:users.password,onChange:handleChange,placeholder:\"Enter the Password:\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"Submit\",className:\"btn\",children:\"Sign Up \"}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[\"Not register? \",/*#__PURE__*/_jsx(Link,{style:{color:\"#00ff00\",textDecoration:\"none\"},to:\"/signup\",children:\"Register\"})]}),errorMsg?/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:errorMsg}):null]})})]});};export default Login;","map":{"version":3,"names":["useEffect","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","Login","user","setUser","users","setUsers","id","pnumber","password","errorMsg","setErrorMsg","get","then","response","data","catch","error","console","log","login","event","preventDefault","emp","find","el","String","sessionStorage","setItem","window","location","href","handleChange","target","name","value","className","children","onSubmit","type","onChange","placeholder","style","color","textDecoration","to"],"sources":["C:/Users/nallamadas/OneDrive - 14 West/Desktop/Git-projects/news-app/src/pages/Login.js"],"sourcesContent":["import '../App.css';\r\nimport { useEffect,useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Login = () => {\r\n  const [user, setUser] = useState([]);\r\n  const [users, setUsers] = useState({ id: \"\",pnumber : \"\",password: \"\"});\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:4000/users\")\r\n      .then((response) => { setUser(response.data) })\r\n      .catch((error) => { console.log(error) })\r\n  }, [])\r\n\r\n  function login(event){\r\n    event.preventDefault();\r\n\r\n    var pnumber=users.pnumber;\r\n    //console.log(id);\r\n\r\n    var password = users.password;\r\n    //console.log(password);\r\n\r\n    let emp = user.find(\r\n      function (el) {\r\n        \r\n        return (String(el.pnumber) === pnumber && String(el.password)===password);\r\n        \r\n      }\r\n    )\r\n    console.log(\"True or False\",emp!=null);\r\n    console.log(\"Emp\",emp);\r\n    if(emp!=null){\r\n      sessionStorage.setItem(\"cAuthenticated\",true);\r\n      window.location.href = \"/\";\r\n    }\r\n    else{\r\n      setErrorMsg(\"Invalid Credentials\");\r\n    }\r\n    //console.log(emp);\r\n  }\r\n\r\n\r\n  const handleChange = (event) => {\r\n    setUsers({ ...users, [event.target.name]: event.target.value })\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h1>Login</h1>\r\n      <div className=\"form\">\r\n        <form onSubmit={login}>\r\n        \r\n        <input name=\"pnumber\" type=\"text\" value={users.pnumber} onChange={handleChange} placeholder=\"Enter the Phone Number:\" />\r\n        <input name=\"password\" type=\"password\" value={users.password} onChange={handleChange} placeholder=\"Enter the Password:\"/>\r\n        {/* <input type=\"button\" className=\"btn\" value=\"Sign Up\" /> */}\r\n        <button type=\"submit\" value=\"Submit\"  className=\"btn\">Sign Up </button>\r\n       <br/> <p>\r\n          Not register? <Link style={{color:\"#00ff00\", textDecoration: \"none\"}} to=\"/signup\">Register</Link> \r\n        </p>\r\n        {(errorMsg) ? <p style={{color:\"red\"}}>{errorMsg}</p> : null}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}